<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Template Email: tessera creata, visualizzabile con login sul sito associazione -->
        <record id="email_template_tessera_creata" model="mail.template">
            <field name="name">Tessera Creata - Conferma</field>
            <field name="model">tessera</field>
            <field name="subject">Tessera creata - {{ object.associazione_id.name }}</field>
            <field name="email_from">{{ object.associazione_id.email or '' }}</field>
            <field name="email_to">{{ object.associato_id.email }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                    <div style="background-color: #4CAF50; color: white; padding: 20px; text-align: center;">
                        <h1 style="margin: 0;">Tessera creata</h1>
                    </div>
                    <div style="padding: 20px; background-color: #f9f9f9;">
                        <p>Ãˆ stata creata una tessera a tuo nome per <strong>{{ object.associazione_id.name }}</strong>.</p>
                        <p>Puoi visualizzarla effettuando l'accesso sul sito dell'associazione:</p>
                        <p style="text-align: center; margin: 20px 0;">
                            <a href="{{ (object.associazione_id.sito_web or object.env['ir.config_parameter'].sudo().get_param('web.base.url')).rstrip('/') }}/web/login"
                               style="background-color: #4CAF50; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; display: inline-block;">
                                Accedi al sito di {{ object.associazione_id.name }}
                            </a>
                        </p>
                        <p>Usa le tue credenziali per entrare e vedere la tessera nella tua area riservata.</p>
                        <p style="margin-top: 30px; font-size: 12px; color: #666;">
                            {{ object.associazione_id.name }}<br/>
                            {% if object.associazione_id.email %}{{ object.associazione_id.email }}<br/>{% endif %}
                            {% if object.associazione_id.telefono %}Tel: {{ object.associazione_id.telefono }}{% endif %}
                        </p>
                    </div>
                </div>
            </field>
        </record>
    </data>
</odoo>
